(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[927],{6815:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Todo",function(){return n(2074)}])},3111:function(e,t,n){"use strict";n.d(t,{g:function(){return c}});var r=n(5503),a=n(6257),i=n(7702),s=(0,r.ZF)({apiKey:"AIzaSyCMLgx6sdSEty413liaBASkkAfYmKMOVII",authDomain:"daily-utils-3.firebaseapp.com",projectId:"daily-utils-3",storageBucket:"daily-utils-3.appspot.com",messagingSenderId:"249678447104",appId:"1:249678447104:web:daa9230c539c87268fcee5",measurementId:"G-CV5E92KSDT"}),o=(0,a.ad)(s),c=(0,i.v0)(s);t.Z=o},2074:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(4051),a=n.n(r),i=n(5893),s=n(7294),o=n(6257),c=n(1163),l=n(3111);function u(e,t,n,r,a,i,s){try{var o=e[i](s),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){u(i,r,a,s,o,"next",e)}function o(e){u(i,r,a,s,o,"throw",e)}s(void 0)}))}}var m=function(){var e=d(a().mark((function e(t){var n,r,i,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.task,r=t.priority,i=t.deadline,s=localStorage.getItem("userId"),c=(0,o.JU)(l.Z,"Users",s),e.next=5,(0,o.ET)((0,o.hJ)(c,"Todos"),{Task:n,Priority:r,Deadline:new Date(i).getTime(),CreatedAt:(new Date).getTime(),Status:"pending"}).then((function(){return!0})).catch((function(){return!1}));case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=d(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("userId"),r=(0,o.JU)(l.Z,"Users",n),e.next=4,(0,o.r7)((0,o.JU)(r,"Todos",t),{Status:"completed"}).then((function(){return!0})).catch((function(){return!1}));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=d(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("userId"),r=(0,o.JU)(l.Z,"Users",n),e.next=4,(0,o.oe)((0,o.JU)(r,"Todos",t)).then((function(){return!0})).catch((function(){return!1}));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=n(5434);function x(e,t,n,r,a,i,s){try{var o=e[i](s),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){x(i,r,a,s,o,"next",e)}function o(e){x(i,r,a,s,o,"throw",e)}s(void 0)}))}}var y=function(e){var t=e.Task,n=e.Priority,r=e.SDeadline,s=(e.CreatedAt,e.Status),o=e.Id,c="low"===n?"bg-success":"normal"===n?"bg-warning":"bg-error",l=function(){var e=v(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(o);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=v(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(o);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.jsx)("div",{className:"card w-96 bg-primary m-5 text-primary-content shadow-xl",children:(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsx)("div",{className:"card-title",children:(0,i.jsx)("h2",{children:t})}),(0,i.jsxs)("div",{children:["Due: ",r,(0,i.jsx)("div",{className:"px-5 py-3 mx-5 badge text-neutral ".concat(c),children:n.toUpperCase()})]}),(0,i.jsxs)("div",{className:"card-actions justify-end",children:["pending"===s&&(0,i.jsx)("button",{onClick:l,className:"btn btn-secondary text-secondary-content btn-sm",children:"Completed"}),(0,i.jsx)("button",{onClick:u,className:"btn btn-secondary btn-sm",children:(0,i.jsx)(h.ZkW,{})})]})]})})};function b(e,t,n,r,a,i,s){try{var o=e[i](s),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(r,a)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}var j=function(){var e=new Date,t=(0,c.useRouter)(),n=(0,s.useState)(!1),r=n[0],u=n[1],d=(0,s.useState)(!0),f=d[0],p=d[1],h=(0,s.useState)([]),x=h[0],v=h[1],w="".concat(e.getFullYear(),"-").concat(e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1),"-").concat(e.getDate()),j=function(){var e,t=(e=a().mark((function e(t){var n,r,i,s,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("my-todo-form"),t.preventDefault(),r=n.task.value,i=n.priority.value,s=""===n.deadline.value?new Date:n.deadline.value,u(!0),e.next=8,m({task:r,priority:i,deadline:s});case 8:o=e.sent,u(!1),o&&(null===(c=document.getElementById("new-todo-modal"))||void 0===c||c.click(),n.reset());case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){b(i,r,a,s,o,"next",e)}function o(e){b(i,r,a,s,o,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();(0,s.useLayoutEffect)((function(){var e=localStorage.getItem("userId");if(e){var n=(0,o.JU)(l.Z,"Users",e);(0,o.cf)((0,o.hJ)(n,"Todos"),(function(e){v(e.docs.map((function(e){var t=e.data();return{Task:t.Task,Priority:t.Priority,Deadline:t.Deadline,CreatedAt:t.CreatedAt,Status:t.Status,Id:e.id}}))),p(!1)}))}else t.replace("Login")}),[]);return(0,i.jsxs)("div",{className:"h-full w-full overflow-hidden flex flex-col items-center justify-between",children:[(0,i.jsxs)("div",{className:"w-full h-11 flex items-center px-5",children:[(0,i.jsx)("label",{htmlFor:"new-todo-modal",className:"btn btn-primary btn-sm modal-button",children:"new todo"}),(0,i.jsx)("label",{className:"btn btn-sm btn-secondary mx-5",onClick:function(){var e;null===(e=document.getElementById("completed-div"))||void 0===e||e.classList.toggle("hidden")},children:"completed todos"})]}),(0,i.jsx)("input",{type:"checkbox",id:"new-todo-modal",className:"modal-toggle"}),(0,i.jsx)("div",{className:"modal",children:(0,i.jsxs)("div",{className:"modal-box relative bg-base-300 text-base-content",children:[(0,i.jsx)("label",{htmlFor:"new-todo-modal",onClick:function(){return document.getElementById("my-todo-form").reset()},className:"btn btn-primary btn-sm btn-circle absolute right-2 top-2",children:"x"}),(0,i.jsx)("h3",{className:"text-lg text-primary mb-2 font-bold",children:"Add New Todo"}),(0,i.jsxs)("form",{id:"my-todo-form",onSubmit:function(e){return j(e)},children:[(0,i.jsxs)("div",{className:"input-group my-5",children:[(0,i.jsx)("span",{className:"bg-primary text-primary-content",children:"Task"}),(0,i.jsx)("input",{type:"text",id:"task-inp",name:"task",required:!0,className:"input input-primary w-full text-base-content",placeholder:"Submit DE Report"})]}),(0,i.jsxs)("div",{className:"input-group",children:[(0,i.jsx)("span",{className:"bg-primary text-primary-content",children:"Priority"}),(0,i.jsxs)("div",{className:"w-full ml-5 flex justify-between",children:[(0,i.jsx)("label",{htmlFor:"low",className:"text-success",children:"Low"}),(0,i.jsx)("input",{type:"radio",name:"priority",value:"low",required:!0,className:"radio radio-primary mx-3 text-base-content"}),(0,i.jsx)("label",{htmlFor:"low",className:"text-warning",children:"Normal"}),(0,i.jsx)("input",{type:"radio",name:"priority",value:"normal",required:!0,defaultChecked:!0,className:"radio radio-primary mx-3 text-base-content"}),(0,i.jsx)("label",{htmlFor:"low",className:"text-error",children:"Urgent"}),(0,i.jsx)("input",{type:"radio",name:"priority",value:"urgent",className:"radio radio-primary ml-3 text-base-content"})]})]}),(0,i.jsxs)("div",{className:"input-group my-5",children:[(0,i.jsx)("span",{className:"bg-primary text-primary-content",children:"Deadline"}),(0,i.jsx)("input",{type:"date",name:"deadline",id:"",className:"input input-primary w-full",min:w})]}),(0,i.jsx)("input",{type:"submit",value:"Create TODO",className:"btn w-full btn-primary ".concat(r&&"loading")})]})]})}),f?(0,i.jsx)("div",{className:"h-full w-full grid place-items-center",children:(0,i.jsx)("h1",{className:"btn btn-ghost select-none loading text-base-content",children:"Fetching Data"})}):(0,i.jsxs)("div",{className:"h-full w-full flex flex-col lg:flex-row",children:[(0,i.jsx)("div",{className:"h-full w-full overflow-x-hidden overflow-y-auto flex items-start flex-wrap justify-around",children:x.map((function(e,t){return"pending"===e.Status&&(0,s.createElement)(y,g({},e,{SDeadline:new Date(e.Deadline).toLocaleDateString(),key:t}))}))}),(0,i.jsxs)("div",{className:"w-full lg:w-1/2 h-full overflow-y-hidden hidden",id:"completed-div",children:[(0,i.jsx)("h1",{className:"w-96 h-min text-2xl text-primary font-bold ml-5",children:"COMPLETED"}),(0,i.jsx)("div",{className:" h-full w-full overflow-x-hidden overflow-y-auto",children:x.filter((function(e){return"pending"!==e.Status})).length?x.map((function(e,t){return"pending"!==e.Status&&(0,s.createElement)(y,g({},e,{SDeadline:new Date(e.Deadline).toLocaleDateString(),key:t}))})):(0,i.jsx)("label",{className:"w-96 ml-5 mt-5 text-secondary text-xl",children:"Nothing Here..."})})]})]})]})}}},function(e){e.O(0,[16,228,131,774,888,179],(function(){return t=6815,e(e.s=t);var t}));var t=e.O();_N_E=t}]);