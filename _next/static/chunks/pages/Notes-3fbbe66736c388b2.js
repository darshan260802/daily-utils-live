(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{9917:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Notes",function(){return n(497)}])},3111:function(e,t,n){"use strict";n.d(t,{g:function(){return s}});var r=n(5503),a=n(6257),c=n(7702),o=(0,r.ZF)({apiKey:"AIzaSyCMLgx6sdSEty413liaBASkkAfYmKMOVII",authDomain:"daily-utils-3.firebaseapp.com",projectId:"daily-utils-3",storageBucket:"daily-utils-3.appspot.com",messagingSenderId:"249678447104",appId:"1:249678447104:web:daa9230c539c87268fcee5",measurementId:"G-CV5E92KSDT"}),i=(0,a.ad)(o),s=(0,c.v0)(o);t.Z=i},1248:function(e,t,n){"use strict";n.d(t,{au:function(){return l},jb:function(){return u},r_:function(){return d},Bz:function(){return m}});var r=n(4051),a=n.n(r),c=n(6257),o=n(3111);function i(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){i(c,r,a,o,s,"next",e)}function s(e){i(c,r,a,o,s,"throw",e)}o(void 0)}))}}var l=function(){var e=s(a().mark((function e(t){var n,r,i,s,l,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.noteTitle,r=t.noteDescription,i=t.noteTag,s=localStorage.getItem("userId"),l=(0,c.JU)(o.Z,"Users",s),e.next=5,(0,c.ET)((0,c.hJ)(l,"Notes"),{Title:n,Description:r,Tag:i}).then((function(e){return e.id})).catch((function(e){return!1}));case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=s(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("userId"),r=(0,c.JU)(o.Z,"Users",n),e.next=4,(0,c.oe)((0,c.JU)(r,"Notes",t)).then((function(e){return!0})).catch((function(e){return!1}));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.pl)((0,c.JU)(o.Z,"SharedNotes",t.Id),t).then((function(){return!0})).catch((function(){return!1}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){return[{code:"en",name:"English"},{code:"ar",name:"Arabic"},{code:"az",name:"Azerbaijani"},{code:"cs",name:"Czech"},{code:"nl",name:"Dutch"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"hi",name:"Hindi"},{code:"hu",name:"Hungarian"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"gu",name:"Gujrati"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"ko",name:"Korean"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"ru",name:"Russian"},{code:"es",name:"Spanish"},{code:"sv",name:"Swedish"},{code:"tr",name:"Turkish"},{code:"uk",name:"Ukranian"},{code:"vi",name:"Vietnamese"}]}},497:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(4051),a=n.n(r),c=n(5893),o=n(7294),i=n(6257),s=n(1163),l=n(1248),u=n(3111),d=n(5434),m=n(1649),p=n(9669),f=n.n(p),h=n(3854);function x(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){x(c,r,a,o,i,"next",e)}function i(e){x(c,r,a,o,i,"throw",e)}o(void 0)}))}}var b=function(e){var t=(0,o.useState)(!1),n=t[0],r=t[1],i=function(){var t=v(a().mark((function t(n){var r,c,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=document.getElementById("".concat(e.Id,"-Description")),c=document.getElementById("".concat(e.Id,"-Title")),console.log("run"),r&&c){t.next=5;break}return t.abrupt("return");case 5:return console.log("2run"),o={method:"POST",url:"https://microsoft-translator-text.p.rapidapi.com/translate",params:{"api-version":"3.0",to:n,textType:"plain",profanityAction:"NoAction"},headers:{"content-type":"application/json","X-RapidAPI-Host":"microsoft-translator-text.p.rapidapi.com","X-RapidAPI-Key":"80cf7f649emsh2dbdc2572126428p1b5afbjsn2998d99ca75f"},data:'[{"Text":"'.concat(e.Title,'"},{"Text":"').concat(e.Description,'"}]')},t.next=9,f().request(o).then((function(e){c.innerHTML=e.data[0].translations[0].text,r.innerHTML=e.data[1].translations[0].text})).catch((function(e){return console.error({err:e})}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=v(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),t.next=3,(0,l.jb)(e.Id);case 3:t.sent,r(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=v(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.r_)(e);case 2:t.sent&&(r="https://daily-utils-3.vercel.app/shared/".concat(e.Id),navigator.clipboard.writeText(r),null===(n=document.getElementById("".concat(e.Id,"-share-div")))||void 0===n||n.classList.add("swap-active"));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"card w-96 h-96 m-5 bg-primary text-primary-content shadow-xl",children:[(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsxs)("h2",{className:"card-title",children:[e.Title," ",(0,c.jsx)("div",{className:"badge badge-secondary",children:e.Tag})," "]}),(0,c.jsx)("p",{children:e.Description}),(0,c.jsxs)("div",{className:"card-actions justify-end",children:[(0,c.jsx)("label",{htmlFor:"".concat(e.Id,"-preview-modal"),className:"btn btn-secondary modal-button",children:"OPEN"}),(0,c.jsx)("button",{onClick:s,className:"btn btn-secondary ".concat(n&&"loading"),children:(0,c.jsx)(d.ZkW,{})}),(0,c.jsx)("button",{className:"btn btn-secondary",onClick:u,children:(0,c.jsxs)("div",{id:"".concat(e.Id,"-share-div"),className:"swap swap-rotate",children:[(0,c.jsx)("div",{className:"swap-on",children:(0,c.jsx)(m.osu,{})}),(0,c.jsx)("div",{className:"swap-off",children:(0,c.jsx)(h.jis,{})})]})})]})]}),(0,c.jsx)("input",{type:"checkbox",id:"".concat(e.Id,"-preview-modal"),className:"modal-toggle"}),(0,c.jsx)("div",{className:"modal",children:(0,c.jsxs)("div",{className:"modal-box relative bg-primary text-primary-content ",children:[(0,c.jsx)("label",{htmlFor:"".concat(e.Id,"-preview-modal"),className:"btn btn-sm btn-circle btn-secondary absolute right-2 top-2",children:"\u2715"}),(0,c.jsx)("h3",{id:"".concat(e.Id,"-Title"),className:"text-lg font-bold",children:e.Title}),(0,c.jsx)("p",{id:"".concat(e.Id,"-Description"),className:"py-4",children:e.Description}),(0,c.jsxs)("div",{className:"modal-action",children:[(0,c.jsx)("button",{className:"btn btn-secondary",onClick:function(){return navigator.clipboard.writeText(e.Title+"\n"+e.Description)},children:"Copy"}),(0,c.jsx)("select",{onChange:function(e){return i(e.target.value)},className:"select select-secondary bg-secondary ",children:(0,l.Bz)().map((function(e,t){return(0,c.jsx)("option",{value:e.code,children:e.name},t)}))})]})]})})]})})};function g(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,a)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}var y=function(){var e=(0,s.useRouter)(),t=(0,o.useState)(!1),n=t[0],r=t[1],d=(0,o.useState)(!0),m=d[0],p=d[1],f=(0,o.useState)([]),h=f[0],x=f[1],v=(0,o.useState)(h),j=v[0],y=v[1],N=(0,o.useState)(""),I=N[0],T=N[1];(0,o.useLayoutEffect)((function(){if(localStorage.getItem("userId")){var t=localStorage.getItem("userId"),n=(0,i.JU)(u.Z,"Users",t);(0,i.cf)((0,i.hJ)(n,"Notes"),(function(e){x(e.docs.map((function(e){return w({},e.data(),{Id:e.id})}))),p(!1)}))}else e.replace("Login")}),[]);var k=function(){var e,t=(e=a().mark((function e(t){var n,c,o,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.noteTitle.value,c=t.target.noteDescription.value,o=""===t.target.noteTag.value?"default":t.target.noteTag.value,r(!0),e.next=7,(0,l.au)({noteTitle:n,noteDescription:c,noteTag:o});case 7:i=e.sent,r(!1),i&&(null===(s=document.getElementById("new-note-modal"))||void 0===s||s.click(),document.getElementById("new-note-form").reset());case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){g(c,r,a,o,i,"next",e)}function i(e){g(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,o.useEffect)((function(){y(h)}),[h]),(0,o.useEffect)((function(){y(""===I?h:h.filter((function(e){return-1!==e.Description.indexOf(I)||-1!==e.Title.indexOf(I)||-1!==e.Tag.indexOf(I)})))}),[I]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"h-full w-full flex flex-col overflow-x-hidden overflow-y-auto ",children:[(0,c.jsxs)("form",{onSubmit:function(e){return k(e)},id:"new-note-form",children:[(0,c.jsx)("input",{type:"checkbox",id:"new-note-modal",className:"modal-toggle"}),(0,c.jsx)("div",{className:"modal",children:(0,c.jsxs)("div",{className:"modal-box relative",children:[(0,c.jsx)("label",{htmlFor:"new-note-modal",className:"btn btn-sm btn-circle absolute right-2 top-2",children:"\u2715"}),(0,c.jsx)("h3",{className:"text-lg font-bold",children:"Add New Note"}),(0,c.jsx)("div",{className:"form-control w-full mt-4",children:(0,c.jsxs)("label",{className:"input-group ",children:[(0,c.jsx)("span",{children:"Title"}),(0,c.jsx)("input",{type:"text",name:"noteTitle",placeholder:"Note Title",className:"input input-bordered w-full",required:!0})]})}),(0,c.jsx)("div",{className:"form-control w-full mt-4",children:(0,c.jsxs)("label",{className:"input-group ",children:[(0,c.jsx)("span",{children:"Description"}),(0,c.jsx)("textarea",{name:"noteDescription",placeholder:"Sample text",className:"textarea textarea-bordered resize-none w-full",required:!0})]})}),(0,c.jsx)("div",{className:"form-control w-full mt-4",children:(0,c.jsxs)("label",{className:"input-group ",children:[(0,c.jsx)("span",{children:"Tag"}),(0,c.jsx)("input",{type:"text",name:"noteTag",placeholder:"College",className:"input input-bordered w-full"})]})}),(0,c.jsx)("button",{className:"btn btn-primary w-full mt-4 ".concat(n&&"loading"),type:"submit",children:"Create Note"})]})})]}),(0,c.jsxs)("div",{className:"w-full h-12 justify-between flex items-center px-2",children:[(0,c.jsx)("label",{htmlFor:"new-note-modal",className:"btn btn-primary btn-sm modal-button",children:"New Note"}),(0,c.jsx)("input",{type:"text",className:"input input-primary input-sm",placeholder:"Search Note",onChange:function(e){return T(e.target.value)}})]}),m?(0,c.jsx)("div",{className:"h-full w-full grid place-items-center",children:(0,c.jsx)("h1",{className:"btn btn-ghost select-none loading text-base-content",children:"Fetching Data"})}):(0,c.jsx)("div",{className:"h-full w-full overflow-x-hidden mt-5 overflow-y-auto flex flex-wrap lg:justify-start justify-center",children:j.map((function(e){return(0,o.createElement)(b,w({},e,{key:e.Id}))}))})]})})}}},function(e){e.O(0,[16,228,866,131,669,774,888,179],(function(){return t=9917,e(e.s=t);var t}));var t=e.O();_N_E=t}]);